/* Syntax highlighting theme for Astro Terminal theme */
/* This uses a monochrome approach where all syntax elements are in accent color */

/* Astro/Shiki CSS Variables for monochrome syntax highlighting */
:root {
  /* Base colors - most text should be white/foreground */
  --astro-code-color-text: var(--foreground);
  --astro-code-color-background: color-mix(in srgb, var(--foreground) 5%, transparent);
  
  /* Default all tokens to foreground (white) */
  --astro-code-foreground: var(--foreground);
  --astro-code-token-constant: var(--foreground);
  --astro-code-token-string: var(--foreground);
  --astro-code-token-comment: color-mix(in srgb, var(--foreground) 50%, transparent);
  --astro-code-token-keyword: var(--accent);
  --astro-code-token-parameter: var(--foreground);
  --astro-code-token-function: color-mix(in srgb, var(--accent) 70%, transparent);
  --astro-code-token-string-expression: var(--accent);
  --astro-code-token-punctuation: var(--foreground);
  --astro-code-token-link: var(--accent);
  
  /* Additional token types */
  --astro-code-token-namespace: var(--foreground);
  --astro-code-token-tag: var(--accent);
  --astro-code-token-selector: var(--accent);
  --astro-code-token-attribute: var(--foreground);
  --astro-code-token-attribute-name: color-mix(in srgb, var(--accent) 70%, transparent);
  --astro-code-token-variable: var(--foreground);
  --astro-code-token-literal: var(--foreground);
  --astro-code-token-number: var(--foreground);
  --astro-code-token-unit: var(--foreground);
  --astro-code-token-symbol: var(--foreground);
  --astro-code-token-regex: var(--accent);
  --astro-code-token-boolean: var(--accent);
  --astro-code-token-important: var(--accent);
  
  /* Additional variables for code styling */
  --code-border: color-mix(in srgb, var(--foreground) 25%, transparent);
  --comment: color-mix(in srgb, var(--foreground) 50%, transparent);
}

/* Override Astro's default code block styles */
.astro-code {
  background: color-mix(in srgb, var(--foreground) 5%, transparent) !important;
  border: 1px solid color-mix(in srgb, var(--foreground) 25%, transparent) !important;
  padding: 20px 10px !important;
}

/* Override inline styles for specific token types */

/* Force all text to be white by default */
.astro-code,
.astro-code span {
  color: var(--foreground) !important;
}

/* Default foreground/white text */
.astro-code span[style*="--astro-code-foreground"],
.astro-code span[style*="--astro-code-token-punctuation"],
.astro-code span[style*="--astro-code-token-constant"],
.astro-code span[style*="--astro-code-token-string"],
.astro-code span[style*="--astro-code-token-parameter"],
.astro-code span[style*="--astro-code-token-variable"],
.astro-code span[style*="--astro-code-token-literal"],
.astro-code span[style*="--astro-code-token-number"] {
  color: var(--foreground) !important;
}

/* Full orange for keywords, tags, string expressions */
.astro-code span[style*="--astro-code-token-keyword"],
.astro-code span[style*="--astro-code-token-string-expression"],
.astro-code span[style*="--astro-code-token-tag"],
.astro-code span[style*="--astro-code-token-selector"],
.astro-code span[style*="--astro-code-token-regex"],
.astro-code span[style*="--astro-code-token-boolean"],
.astro-code span[style*="--astro-code-token-important"] {
  color: var(--accent) !important;
}

/* 70% opacity orange for attribute names (using token-function in HTML) */
.astro-code span[style*="--astro-code-token-function"] {
  color: var(--accent) !important;
  opacity: 0.7;
}

/* Muted comments */
.astro-code span[style*="--astro-code-token-comment"] {
  color: var(--comment) !important;
}

/* Line highlighting */
.highlight-line {
  display: block;
  margin: 0 -10px;
  padding: 0 10px;
  background: color-mix(in srgb, var(--accent) 10%, transparent);
  border-left: 3px solid var(--accent);
}

/* Diff highlighting */
.token.deleted {
  color: #ff6666 !important;
  background: color-mix(in srgb, #ff6666 10%, transparent);
}

.token.inserted {
  color: #66ff66 !important;
  background: color-mix(in srgb, #66ff66 10%, transparent);
}

/* Language indicators */
[data-language]::before {
  content: attr(data-language);
  position: absolute;
  top: 0;
  right: 0;
  padding: 2px 8px;
  font-size: calc(var(--font-size) * 0.8);
  text-transform: uppercase;
  color: var(--comment);
  background: color-mix(in srgb, var(--foreground) 5%, transparent);
  border-left: 1px solid var(--code-border);
  border-bottom: 1px solid var(--code-border);
}

/* Inline code in different contexts */
.post-content code,
.page code {
  word-break: break-word;
}

/* Code block containers */
.code-toolbar {
  position: relative;
}

.code-toolbar .toolbar {
  position: absolute;
  top: 10px;
  right: 10px;
  display: flex;
  gap: 5px;
}

.code-toolbar .toolbar-item button {
  background: transparent;
  border: 1px solid var(--accent);
  color: var(--accent);
  padding: 2px 8px;
  font-size: calc(var(--font-size) * 0.8);
  cursor: pointer;
  transition: all 0.15s linear;
}

.code-toolbar .toolbar-item button:hover {
  background: color-mix(in srgb, var(--accent) 15%, transparent);
}