---
import LessonLayout from '../../layouts/LessonLayout.astro';

import { getHomeworks, baseUrl } from '../../helpers.astro';

export async function getStaticPaths() {
  const bonuses = await getHomeworks();

  return bonuses.map(hw => ({
    params: { slug: hw.slug },
    props: { hw },
  }));
}

const { hw } = Astro.props;

const { Content: HomeWorkContent } = await hw.render();

const altViewProps = !hw.data.hasSlides
  ? {}
  : { altViewUrl: `${baseUrl}slides/${hw.slug}`, altViewText: 'show slides'};
---

<LessonLayout {...altViewProps} {...hw.data} category='homework'>
  <HomeWorkContent />
</LessonLayout>

<style is:global>
  hr {
    display: none !important;
  }

  bonus-content {
    font-style: italic;
  }
</style>
